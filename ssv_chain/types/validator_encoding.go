// Code generated by fastssz. DO NOT EDIT.
// Hash: e65bc0f9f68ef63dd64b4c087bc6fb67e677644a76731b322f4a67dd4bb0c33d
// Version: 0.1.2
package types

import (
	ssz "github.com/ferranbt/fastssz"
	"ssv-experiments/ssv_chain/common"
)

// MarshalSSZ ssz marshals the Validator object
func (v *Validator) MarshalSSZ() ([]byte, error) {
	return ssz.MarshalSSZ(v)
}

// MarshalSSZTo ssz marshals the Validator object to a target array
func (v *Validator) MarshalSSZTo(buf []byte) (dst []byte, err error) {
	dst = buf
	offset := int(28)

	// Field (0) 'ID'
	dst = ssz.MarshalUint64(dst, v.ID)

	// Field (1) 'Account'
	dst = ssz.MarshalUint64(dst, v.Account)

	// Field (2) 'VotingPower'
	dst = ssz.MarshalUint64(dst, v.VotingPower)

	// Offset (3) 'PublicKey'
	dst = ssz.WriteOffset(dst, offset)
	if v.PublicKey == nil {
		v.PublicKey = new(common.CryptoKey)
	}
	offset += v.PublicKey.SizeSSZ()

	// Field (3) 'PublicKey'
	if dst, err = v.PublicKey.MarshalSSZTo(dst); err != nil {
		return
	}

	return
}

// UnmarshalSSZ ssz unmarshals the Validator object
func (v *Validator) UnmarshalSSZ(buf []byte) error {
	var err error
	size := uint64(len(buf))
	if size < 28 {
		return ssz.ErrSize
	}

	tail := buf
	var o3 uint64

	// Field (0) 'ID'
	v.ID = ssz.UnmarshallUint64(buf[0:8])

	// Field (1) 'Account'
	v.Account = ssz.UnmarshallUint64(buf[8:16])

	// Field (2) 'VotingPower'
	v.VotingPower = ssz.UnmarshallUint64(buf[16:24])

	// Offset (3) 'PublicKey'
	if o3 = ssz.ReadOffset(buf[24:28]); o3 > size {
		return ssz.ErrOffset
	}

	if o3 < 28 {
		return ssz.ErrInvalidVariableOffset
	}

	// Field (3) 'PublicKey'
	{
		buf = tail[o3:]
		if v.PublicKey == nil {
			v.PublicKey = new(common.CryptoKey)
		}
		if err = v.PublicKey.UnmarshalSSZ(buf); err != nil {
			return err
		}
	}
	return err
}

// SizeSSZ returns the ssz encoded size in bytes for the Validator object
func (v *Validator) SizeSSZ() (size int) {
	size = 28

	// Field (3) 'PublicKey'
	if v.PublicKey == nil {
		v.PublicKey = new(common.CryptoKey)
	}
	size += v.PublicKey.SizeSSZ()

	return
}

// HashTreeRoot ssz hashes the Validator object
func (v *Validator) HashTreeRoot() ([32]byte, error) {
	return ssz.HashWithDefaultHasher(v)
}

// HashTreeRootWith ssz hashes the Validator object with a hasher
func (v *Validator) HashTreeRootWith(hh ssz.HashWalker) (err error) {
	indx := hh.Index()

	// Field (0) 'ID'
	hh.PutUint64(v.ID)

	// Field (1) 'Account'
	hh.PutUint64(v.Account)

	// Field (2) 'VotingPower'
	hh.PutUint64(v.VotingPower)

	// Field (3) 'PublicKey'
	if err = v.PublicKey.HashTreeRootWith(hh); err != nil {
		return
	}

	hh.Merkleize(indx)
	return
}

// GetTree ssz hashes the Validator object
func (v *Validator) GetTree() (*ssz.Node, error) {
	return ssz.ProofTree(v)
}
